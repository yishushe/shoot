<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.bdqn.photography.shootorder.mapper.ShootOrderMapper">
    <resultMap id="ord" type="ShootOrder">
        <id property="id" column="id"></id>
        <association property="shootUser" javaType="ShootUser">
            <id property="id" column="su_id"></id>
        </association>
    </resultMap>
<select id="showallorder" resultMap="ord">
    SELECT su.id su_id,su.userCode,so.* FROM shoot_order so
INNER JOIN shoot_user su ON so.userId=su.id
WHERE 1=1
<if test="uid!='' and uid!=null">   /*此处id为usercode*/
    and su.userCode=#{uid}
</if>
</select>
</mapper>

